(function(a,b){if('function'==typeof define&&define.amd)define(['module','exports'],b);else if('undefined'!=typeof exports)b(module,exports);else{var c={exports:{}};b(c,c.exports),a.EventEmitter=c.exports}})(this,function(a,b){'use strict';function c(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function e(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function f(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function g(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function h(a){if('string'!=typeof a&&'symbol'!==('undefined'==typeof a?'undefined':o(a)))throw new TypeError('Argument for parameter "event" must be a string or symbol.')}function i(a){if('function'!=typeof a)throw new TypeError('Argument for parameter "listener" must be a function.')}function j(a,b){var c=-1;return a.some(function(d,e){return!!b(d,e,a)&&(c=e,!0)}),c}function k(a,b){var c=a;return Object.keys(b).forEach(function(a){c[a]=b[a]}),c}function l(a){var b=[];return Object.keys(a).forEach(function(c){void 0!==a[c]&&b.push(c)}),b}function m(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:function(){function a(){g(this,a)}return a}();return function(a){function b(){var a,c;g(this,b);for(var f=arguments.length,h=Array(f),i=0;i<f;i++)h[i]=arguments[i];var j=e(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(h)));return Object.defineProperties(j,(c={},d(c,r,{value:{},writable:!0,enumerable:!1,configurable:!1}),d(c,s,{value:b.defaultMaxListeners,writable:!0,enumerable:!1,configurable:!1}),c)),j}var k=Math.max;return f(b,a),n(b,null,[{key:'defaultMaxListeners',get:function(){return'number'==typeof b[s]?b[s]:10},set:function(a){b[s]=k(+a||0,0)}}]),n(b,[{key:'hasListenersForEvent',value:function(a){return!!this[r][a]}},{key:'getMaxListeners',value:function(){return this[s]}},{key:'setMaxListeners',value:function(a){return this[s]=k(+a||0,0),this}},{key:'emit',value:function(a){for(var b=this,d=arguments.length,e=Array(1<d?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return this.hasListenersForEvent(a)?([].concat(c(this[r][a])).forEach(function(c){var d=c.type,f=c.listener;'once'===d&&b.removeListener(a,f),f.call.apply(f,[b].concat(e))}),this):this}},{key:'addListener',value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'on';h(a),i(b),this.hasListenersForEvent(a)||(this[r][a]=[]);var d=this[r][a];return d.push({type:c,listener:b}),d.length>this[s]&&!this.maxListenersWarnedOnce&&(this.maxListenersWarnedOnce=!0,p.warn('Possible EventEmitter memory leak detected. '+d.length+' "'+a.toString()+'" listeners added. Use EventEmitter#setMaxListeners to increase this limit.')),this}},{key:'removeListener',value:function(a,b){if(h(a),!this.hasListenersForEvent(a)||'function'!=typeof b)return this;var c=this[r][a],d=j(c,function(a){return a.listener===b});return-1!==d&&(c.splice(d,1),!c.length&&(this[r][a]=void 0)),this}},{key:'removeAllListeners',value:function(a){return null!==a&&void 0!==a?this[r][a]=void 0:this[r]={},this}},{key:'once',value:function(a,b){return this.addListener(a,b,'once')}},{key:'listenerCount',value:function(a){return(this[r][a]||[]).length}},{key:'listeners',value:function(a){return(this[r][a]||[]).map(t)}},{key:'eventNames',value:function(){return l(this[r])}},{key:'on',get:function(){return this.addListener}},{key:'off',get:function(){return this.removeListener}}]),b}(a)}Object.defineProperty(b,'__esModule',{value:!0}),b.validateEventArgument=h,b.validateListenerArgument=i,b.findIndex=j,b.assign=k,b.keysOfDefinedProperties=l,b.emitter=m;var n=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),o='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a},p=console,q=Date.now(),r='__EVENT_EMITTER_EVENTS_'+q+'__',s='__EVENT_EMITTER_MAX_LISTENERS_'+q+'__',t=function(a){var b=a.listener;return b};a.exports=k(m(),b)});
//# sourceMappingURL=EventEmitter.js.map